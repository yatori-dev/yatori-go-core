=== RUN   TestXueXiToExam
[2025-12-02 20:00:58] [15690460231]  课程数量：46
ID: frontEndErrorCollectFrequency       Name:                      Value: 0
ID: workExamUploadUrl                   Name: workExamUploadUrl    Value:
ID: workExamUploadCrcUrl                Name: workExamUploadCrcUrl Value:
ID: MirrorChaoXingStudyAndPublicCourse  Name:                      Value:
ID: uploadFromYunPan                    Name:                      Value:
ID: isStartPage                         Name:                      Value: 1
ID: ios101Upgrade                       Name:                      Value:
ID: ios101SkipFaceRecognition           Name:                      Value:
ID: isAccessibleCustomFid               Name: isAccessibleCustomFid Value: 0
ID: captchaCaptchaId                    Name:                      Value: Ew0z9skxsLzVKQjmeObQiRVLxkxbPkRF
ID: captchaCheck                        Name:                      Value: 1
ID: captchavalidate                     Name:                      Value:
ID: browserLocale                       Name:                      Value: chinese
ID: chaoXingAppSignVersion              Name:                      Value: 311
ID: appExamClientSign                   Name:                      Value: true
ID: signConfig                          Name:                      Value: {"jsbridgeSignal":"fQW8I4i/ztTmVvL3qNZvXpN4fp/MYaWsdSoIQfknWBnGM5Tf/gE5lT3I5U5uRYxh5Ja6fXEDn1fXCVwUEhgTYSCfNHGVuSCxMFKwYY0k+oXX/pX7luHDaMAXpfVGSS6ze7R88XuxXtHwHTtOsdyiHsMYTWey18jLUVX0vLMTQyY=","domainLength":22,"jsbridgeTime":4070880000000}
ID: monitorLock                         Name:                      Value: 0
ID: screenshotNumberLimit               Name:                      Value: 0
ID: screenshotOccupancyNumberLimit      Name:                      Value: 0
ID: faceRecognitionProvider             Name:                      Value: 0
ID: courseId                            Name: courseId             Value: 258101827
ID: testPaperId                         Name: testPaperId          Value: 8190307
ID: testUserRelationId                  Name: testUserRelationId   Value: 167222229
ID: classId                             Name: classId              Value: 134204187
ID:                                     Name: isphone              Value: true
ID: cpi                                 Name: cpi                  Value: 411545273
ID: imei                                Name: imei                 Value:
ID: snapshotMonitor                     Name: snapshotMonitor      Value: 0
ID: faceDetection                       Name: faceDetection        Value:
ID: monitorEnc                          Name: monitorEnc           Value: d9411e7928d9083f631b90b33b3a7063
ID: faceDetectionResult                 Name: faceDetectionResult  Value:
ID: firstInExam                         Name: firstInExam          Value: 0
ID: reset                               Name: reset                Value: false
ID: expiredAutoSubmit                   Name: expiredAutoSubmit    Value: 1
ID: switchScreenNumberLimit             Name: switchScreenNumberLimit Value: 0
ID: switchScreenDurationLimit           Name: switchScreenDurationLimit Value: 0
ID: screenAbnormalNumberLimit           Name: screenAbnormalNumberLimit Value: 0
ID: selftestMode                        Name: selftestMode         Value: 0
ID: forbidMultiterminal                 Name: forbidMultiterminal  Value: 0
ID: faceRecognitionCompare              Name: faceRecognitionCompare Value:
ID: facekey                             Name: facekey              Value:
ID: skipScreenShot                      Name: skipScreenShot       Value:
ID: chaoXingAppFeatureVersion           Name:                      Value: -1
ID: checkSecondDeviceLive               Name:                      Value:
ID: secondDeviceLiveKey                 Name:                      Value:
ID: examPreparationTime                 Name:                      Value: 0
ID: canAppeal                           Name:                      Value: true
t: 1764676861764
captchaId: Ew0z9skxsLzVKQjmeObQiRVLxkxbPkRF
t: 1764676971060
captchaId: Ew0z9skxsLzVKQjmeObQiRVLxkxbPkRF
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<script>
    _HOST_ = "//mooc1-api.chaoxing.com";
    _CP_ = "/exam-ans";
    _HOST_CP1_ = "//mooc1-api.chaoxing.com/exam-ans";
    // _HOST_CP2_ = _HOST_ + _CP_;
    _HOST_CP2_ = _CP_;
</script><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"/>
    <meta name = "format-detection" content = "telephone=no">
    <link type="text/css" href="//mooc1-api.chaoxing.com/exam-ans/css/newEditor.css?v=2023-1123-1137" rel="stylesheet" />
    <title>蔡卓睿 (24822077)</title>
    <link type="text/css" rel="stylesheet" href="//mooc1-api.chaoxing.com/exam-ans/css/exam/phone/s/v3/bType-answer.css?v=2023-0613-1415" />
    <link type="text/css" rel="stylesheet" href="/exam-ans/spacx/exam/phone/s/v3/student-answer.css?v=2025-0905-1445" />
    <link href="/exam-ans/spacx/new/css/msg-note-tpl.cssx?enc=707fa0ef882cc08e7f2f244d1751f1e3" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="//mooc1-api.chaoxing.com/exam-ans/mooc2/css/notAllowCopy.css"/>
    <style>
        *{outline: none;}
    </style>
    <link rel="stylesheet" type="text/css" href="//mooc1-api.chaoxing.com/exam-ans/mooc2/css/harmony.css?v=2024-1111-1100" />
    <link href="//mooc1-api.chaoxing.com/exam-ans/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/>    <link rel="stylesheet" type="text/css" href="//mooc1-api.chaoxing.com/exam-ans/css/exam/phone/examPadPublicStyle.css?v=2025-1120-1948">    <script type="text/javascript" src="//mooc-res2.chaoxing.com/exam-ans/js/common/jquery.min.js"></script>
    <script type="text/javascript" src="//mooc-res2.chaoxing.com/exam-ans/js/common/jquery-migrate.min.js"></script>    	<script src="//mooc1-api.chaoxing.com/exam-ans/views/exam/phone/s/v3/js/jquery.tap.js"></script>
    <script src="//mooc1-api.chaoxing.com/exam-ans/js/phone/protocolChaoXing/CXJSBridge.js?v=2025-1110-1950"></script>
    <script src="//mooc-res2.chaoxing.com/exam-ans/js/phone/zepto-1.1.6.min.js"></script>

    <script src="//mooc1-api.chaoxing.com/exam-ans/js/phone/app.utils2.js?v=2022-0929-1640"></script>

    <script src="//mooc1-api.chaoxing.com/exam-ans/js/phone/rem750.js"></script>
    <script src="//mooc1-api.chaoxing.com/exam-ans/views/exam/phone/s/v3/js/textareaHeightAuto-test.js" type="text/javascript" charset="utf-8"></script>
    <script src="/ananas/space/exam/js/enc_js_exam.js?v=1764676986456"></script>
    <script src="//mooc1-api.chaoxing.com/exam-ans/js/ServerHost.js"></script>
    <script src="//mooc1-api.chaoxing.com/exam-ans/js/work/phone/work-attach.js?v=2025-0527-1100"></script>    <script src="//mooc1-api.chaoxing.com/exam-ans/js/work/phone/add-audio.js"></script>
    <script src="//mooc1-api.chaoxing.com/exam-ans/views/exam/phone/s/v3/js/exam-attach-forward.js?v=2024-1210-1832"></script>    <script src="//mooc-res2.chaoxing.com/exam-ans/space/new/js/wayer_v1.2.mini.js"></script>
    <script src="//mooc1-api.chaoxing.com/exam-ans/js/exam/phone/date.js?v=2019-0404-1256"></script>
    <script src="/keeper/js/exam/live-status.js?v=2025-0815-1007"></script>
    <script src="//mooc1-api.chaoxing.com/exam-ans/safefilter/ajax-unlock.js?v=2024-0110-1100"></script>
    <script type="text/javascript">window.SUPPORT_AUDIO_SETTING = true; window.SUPPORT_AUDIO_CONTROL = true; window.Forbid_Attachment_Title = '0';</script>
    <script src="//mooc1-api.chaoxing.com/exam-ans/js/phone/tableWarp.js?v=2025-0611-0943"></script>
    <script>
        window["uid"] = '346635955';
        window["currentTime"] = '1764676986452';
        window["uploadEnc"] = '8c8e8f0c6ede9a472cf1828137716839';

        function customLeftBinAction(tips) {
            if(needPdfOrImgViewClose()){
                return;
            }
            if('0' == 1){
                submitForm(true);
                jsBridge.postNotification("CLIENT_REFRESH_STATUS", {"status":1});
                jsBridge.postNotification('CLIENT_EXIT_LEVEL', {message: tips || ''});
                return;
            }
            var exitexamForcesubmit = $('#exitexamForcesubmit').val();
            var expiredAutoSubmit = $('#expiredAutoSubmit').val();
            var exitTip = (exitexamForcesubmit == 1 ? '退出考试将强制收卷，确认退出?' : (expiredAutoSubmit == 1 ? '退出后考试将继续计时，答题时间截止后将会自动交卷，确定退出?' : '退出后考试将继续计时，确定退出?'));
            if(exitexamForcesubmit != 1 && '10596' == '145850'){
                exitTip = '退出考试不允许再次进入，确定退出？';
            }
            closeCurrentOpenHint();
            openConfirmHint(exitTip, "退出", "取消", function () {
                if(exitexamForcesubmit == 1){
                    $('#monitorforcesubmit').val(9);
                    submitForm(false, false);
                }else{
                    submitForm(true);
                }
                closeMonitor(1);
                exitExamLog();
                jsBridge.postNotification("CLIENT_REFRESH_STATUS", {"status":1});
                jsBridge.postNotification('CLIENT_EXIT_LEVEL', {message: tips || ''});
            },function(){
                var lockedType = $('#answerLocked').val() || 0;
                if(lockedType > 0){
                    setTimeout(function(){
                        lockExamPopTip(lockedType);
                    },10);
                }else if(window.screenshotOccupancyFlag){
                    setTimeout(function(){
                        screenShotPopTip(1);
                    },10);
                }
            });
        }
    </script>
    <script>
        var onExamAction = false;
        var timePoint1 = 0;
        var timePoint2 = 0;

        function _jsBridgeReady() {
            if (typeof(AppUtils) != 'undefined' && AppUtils.isChaoXingStudy()) {
                jsBridge.postNotification('CLIENT_TOOLBAR_TITLE', {'webTitle':"蔡卓睿 (24822077)"}) ;
            }
            var icon_src = location.origin + _CP_ + '/images/phone/';
            jsBridge.postNotification('CLIENT_CUSTOM_LEFTBTN', {
                show: '1',
                icon: {
                    ios: {iconHd: icon_src + 'back_icon3x.png', icon: icon_src + 'back_icon3x.png'},
                    android: {iconHd: icon_src + 'backLevel_android_h.png', icon: icon_src + 'backLevel_android_h.png'}
                },
                option: "customLeftBinAction()"
            });

            jsBridge.postNotification('CLIENT_SWIPE_EXIT', {'forbiddenFlag': 1});

            jsBridge && jsBridge.unbind('CLIENT_WEB_LIFECYCLE');
            jsBridge && jsBridge.bind('CLIENT_WEB_LIFECYCLE', function (object) {
                var status = object.status;
                if(status == 20 && typeof(AppUtils) != 'undefined' && AppUtils.isNewVersionNew(103) && !onExamAction){
                    jsBridge.postNotification('CLIENT_SNAPSHOT', {
                        "type": 3,
                        "data": {
                            "enable": 1,
                            "internalTime": -1,
                            "funconfig": {"classId":134204187, "answerId":167222229, "suspendwindow":1}
                        }
                    });
                    return;
                }
                checkRemainTime(status);
                // 0:隐藏  1:显示  2:销毁 11：网页处于前台  10：网页推到后台  20: 悬浮窗
                if (status == 10) {
                    //考试内部正常活动离开:拍照录音
                    if (onExamAction && status == 10) {
                        return;
                    }
                    timePoint1 = new Date().getTime();
                } else if (status == 11) {
                    //考试内部正常活动离开:拍照录音
                    if (onExamAction && status == 11) {
                        onExamAction = false;
                        return;
                    }
                    timePoint2 = new Date().getTime();
                }

                if(status == 0 || status == 2 || status == 10){
                    window.LIFECYCLE_STATUS  = status;
                    submitForm(true,false,true);
                }

                var switchScreenThresholdTime = parseInt('0') || 2;

                var intervalTime = (timePoint2 - timePoint1) / 1000;
                if (timePoint1 > 0 && timePoint2 > 0 && parseInt(intervalTime) > parseInt(switchScreenThresholdTime)) {
                    exitCountAndExitTip && exitCountAndExitTip(status, new Date(),timePoint2, timePoint1);
                    switchScreenLog && switchScreenLog(timePoint2, timePoint1, 0);
                    timePoint1 = 0;
                    timePoint2 = 0;
                }
            });
            jsBridge && jsBridge.postNotification('CLIENT_WEB_LIFECYCLE', {
                enabled: 1
            });
            jsBridge.postNotification("CLIENT_FIX_CONTENTINSET", {
                enabled: "1"
            });

            var skipScreenShot = '' || 0;

            var monitorNewProtocol = 0;
            if(typeof(AppUtils) != 'undefined' && AppUtils.isNewVersionNew(77)){
                monitorNewProtocol = 1;
            }
            var faceCollectionInterval = '21600000';
            if(monitorNewProtocol == 1 || skipScreenShot == 1){
                faceCollectionInterval = '0';
            }

            var captureMode = skipScreenShot != 1 ? '1' : '0';

            jsBridge && jsBridge.unbind('CLIENT_FACE_COLLECTION');
            jsBridge.bind('CLIENT_FACE_COLLECTION', function (object) {
                if(monitorNewProtocol == 0){
                    snapshotMonitorLog && snapshotMonitorLog(object);
                }else{
                    if(captureMode == 1){
                        newProtocolClientSnapShotLog && newProtocolClientSnapShotLog(object);
                        if(object && object.data && object.data.captureStatus == -1){
                            clientSnapshotReject();

                        }
                    }else{
                        newProtocolSnapshotMonitorLog && newProtocolSnapshotMonitorLog(object);
                    }
                }
                clientScreenOccupancyEventAction(object);
            });

            if(typeof(AppUtils) != 'undefined' && AppUtils.isNewVersionNew(103) && '0' == 1 && captureMode == 1){
                jsBridge.postNotification('CLIENT_MONITOR_TOP_VIEW', {"enable": "1","timeInternal": "15000" });
            }else{
                jsBridge.postNotification('CLIENT_MONITOR_TOP_VIEW', {"enable": "0","timeInternal": "15000" });
            }

            jsBridge && jsBridge.unbind('CLIENT_SNAPSHOT');
            jsBridge.bind('CLIENT_SNAPSHOT', function (object) {
                var funconfig = readfunConfig(object);
                if(funconfig.suspendwindow == 1){
                    switchScreenSuspendedWindowLog(object);
                    return;
                }if(funconfig && funconfig.reTakeAuth){
                    screenOccupancyReAuthCallBack(object);
                    return;
                }	   clientSnapShotLog(object);
                if(object && object.captureStatus == -1){
                    clientSnapshotReject();
                }
                clientScreenOccupancyEventAction(object);
            });

            if(skipScreenShot != 1 && monitorNewProtocol == 0 && typeof(AppUtils) != 'undefined' && AppUtils.isNewVersionNew(46)){
            }

            jsBridge.postNotification('CLIENT_SCREEN_LOCK', {
                'forbiddenFlag': '1'
            });

            try {
                examMonitorCallBack && examMonitorCallBack();
            }catch (e) {}

            typeof(AppUtils) != 'undefined' && AppUtils.getDeviceId(deviceIdHander);

            jsBridge && jsBridge.unbind('CLIENT_FACE_RECOGNITION_BLINK');
            jsBridge && jsBridge.bind('CLIENT_FACE_RECOGNITION_BLINK', function(object){
                if(object){
                    object.retry = true;
                    object.clientRetry = true;
                    rentryExamLog(object);
                }
            });



            jsBridge && jsBridge.unbind('CLIENT_WEB_NOTIFY');
            jsBridge && jsBridge.bind('CLIENT_WEB_NOTIFY', function(object){
                clientWebNotifyAction(object);
            });

            //100点击了拍照, 101选择事件结束, 102用户取消
            jsBridge && jsBridge.unbind('CLIENT_ACTION_EVENT');
            jsBridge && jsBridge.bind('CLIENT_ACTION_EVENT', function(object){
                if(object.actionStatus == 100){
                    $('#takingPhotos').val(1);
                }else{
                    $('#takingPhotos').val(0);
                    if(maxtime <= 0){
                        $("#timeOver").val(true);
                        timeOverSubmitAction();
                    }
                }
            });
            jsBridge && jsBridge.postNotification('CLIENT_ACTION_EVENT', {
                'enable': 1
            });
            jsBridge && jsBridge.postNotification('CLIENT_LIMIT_KEYBOARD', {
                'enable': 0
            });

            jsBridge && jsBridge.unbind('CLIENT_FORM_SIGN');
            jsBridge && jsBridge.bind('CLIENT_FORM_SIGN', function(object){
                var typeFlagObj = {};
                try{
                    typeFlagObj = JSON.parse(object.typeFlag);
                }catch(err){}
                if(typeFlagObj.type == 'submitExam' || typeFlagObj.type == 'keeperLog'){
                    var count = (typeof object.checkCount != 'undefined' ? object.checkCount : '');
                    var ecode = (typeof object.extraInfo != 'undefined' && typeof object.extraInfo.code != 'undefined'   ? object.extraInfo.code : '');
                    var cxcid = object.cxcid || '';
                    var cxtime = object.cxtime || '';
                    var signk = object.paramToken || '';
                    var signt = object.signToken || '';
                    window[typeFlagObj.funckey](cxcid,cxtime,signk,signt,object.result,count,ecode);
                }
            });

            jsBridge && jsBridge.unbind('CLIENT_EVERISK_INFO_CHECK');
            jsBridge && jsBridge.bind('CLIENT_EVERISK_INFO_CHECK', function(object){
                deviceRiskLog(object);
            });

        }

        $(function () {

            /*
             $("img:not(.ans-formula-moudle,.ans-edrawmath-moudle,.noimg)").on('click', function () {
                 var url = $(this).attr("src");
                 if(url && /^http/.test(url) == false){
                     url =  location.origin + url;
                 }
                 jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
                     imageUrls: [{
                         imageUrl: url,
                         getOriginSize: 1
                     }],
                     showIndex: 0
                 });
             });
             */
        });

        $(function ($) {

            $('#nextQuestion').click(function () {
                var callBack = function(){
                    var targetGroupId = $("#nextQuestionGroupId").val() || 0;
                    var noPass = groupPaperLimitTimeNextCheck(0, targetGroupId);
                    if (noPass) {
                        return;
                    }
                    getTheNextQuestion($('#nextQuestion').get(0), 1);
                };
                checkCompoundQuesIsUnAnswered(callBack,0);
            });

            $('#preQuestion').click(function () {
                getTheNextQuestion($('#preQuestion').get(0), -1);
            });

            $('#topreview1,#topreview2').click(function (event) {
                var callBack = function(){
                    topreview();
                };
                checkCompoundQuesIsUnAnswered(callBack,1);
                event.stopPropagation();
            });

            $(".mask").on('click', function (e) {
                $(".mask").hide();
                $(".bNav").hide();
                $(".zmain").css("height", "");
                $(".zmain").css("overflow", "auto");
                e.stopPropagation();
            });

            //答题卡显示隐藏
            $(".answerLineContainer,.answerIcon").click(function(event) {
                $(".floatBg").fadeIn(200);
                $(".answerSheetBox").slideDown(200);
                loadAnswerSheet();
            });
            $(".closedBtn").click(function(event) {
                $(".floatBg").fadeOut(200);
                $(this).parents(".answerSheetBox").slideUp(200);
            });
            $(".floatBg").click(function(event) {
                $(this).fadeOut(200);
                $(".answerSheetBox").slideUp(200);
            });
            //滑动显示滚动条
            var scroll=document.getElementById('scroll');
            scroll.addEventListener('touchstart',function(){
                $(".answerSheetBox ul").addClass('touch');
            });
            scroll.addEventListener('touchmove',function(){
                $(".answerSheetBox ul").addClass('touch');
            });
            scroll.addEventListener('touchend',function(){
                $(".answerSheetBox ul").removeClass('touch');
            });
            $('.answerSheetBox').on('click','.nav-revise',function (index) {
                var revisep = $(this);
                var targetGroupId = revisep.attr('groupId');
                var data = revisep.attr("data");
                var noPass = groupPaperLimitTimeNextCheck(data, targetGroupId);
                if (noPass) {
                    return;
                }
                revise(revisep);
            });
        });

        var phone_protocol_tail = "#INNER";
        var maxSecond = 29;
        var maxtime = 1;
        var limitTime = 60 *60;
        var testPaperStatus = "1";
        var change = false;

        function navJump() {
            $('.nav-revise').each(function (index) {
                var revisep = $(this);
                revisep.on('click', function () {
                    revise(revisep);
                });
            });
        }
    </script>

</head>
<body>

<input type="hidden" id="frontEndErrorCollectFrequency" value="0"/>
<input type="hidden" id="tag" name="tag" value="1"/>
<input type="hidden" id="liveMonitor" name="liveMonitor" value="0"/>
<input type="hidden" id="allowAnswerBack" name="allowAnswerBack" value="1"/>
<input type="hidden" id="blankobj" name="blankobj" value="1"/>
<input type="hidden" id="randomOptions" name="randomOptions" value="false"/>
<input type="hidden" id="answerchange" value="0">
<input type="hidden" id="entryExamTime" value="">
<input type="hidden" id="rentryExamTime" value="1764676986439">
<input type="hidden" id="snapshotMonitor" name="snapshotMonitor" value="0"/>
<input type="hidden" id="switchScreenControl" name="switchScreenControl" value="0"/>
<input type="hidden" id="monitorStatus" name="monitorStatus" value="0"/>
<input type="hidden" id="monitorOp" name="monitorOp" value="-1"/>
<input type="hidden" id="snapMatchfailnumberLimit" name="snapMatchfailnumberLimit" value="0"/>
<input type="hidden" id="switchScreenNumberLimit" name="switchScreenNumberLimit" value="0"/>
<input type="hidden" id="switchScreenDurationLimit" name="switchScreenDurationLimit" value="0"/>
<input type="hidden" id="monitorEnc" name="monitorEnc" value="d9411e7928d9083f631b90b33b3a7063"/>
<input type="hidden" id="saveUrl" name="saveUrl" value="/exam-ans/exam/test/reVersionSubmitTestNew"/>
<input type="hidden" id="faceDetectionResult" name="faceDetectionResult" value=""/>
<input type="hidden" id="examRelationId" name="examRelationId" value="8190307"/>
<input type="hidden" id="examCreaterId" name="examCreaterId" value="411545273"/>
<input type="hidden" id="examEnc" name="examEnc" value='45ea71f7998a599de44dd44ff4e7990f'/>
<input type="hidden" id="qbanksystem" name="qbanksystem" value="0"/>
<input type="hidden" id="qbankbackurl" name="qbankbackurl" value=""/>
<input type="hidden" id="workExamUploadUrl" name="workExamUploadUrl" value=""/>
<input type="hidden" id="workExamUploadCrcUrl" name="workExamUploadCrcUrl" value=""/>
<input type="hidden" id="testReceiveTime"  value="2025年12月02日02:05"/>
<input type="hidden" id="testLimitTime"  value="60"/>
<input type="hidden" id="exitCount"  value="0"/>
<input type="hidden" id="receiveTime" value="1764612353000"/>
<input type="hidden" id="limitTimeType" value="0"/>
<input type="hidden" id="singleQuesLimitTime" value=""/>
<input type="hidden" id="forbidAnsweredAgain" value="0"/>
<input type="hidden" id="ExamWaterMark" value="蔡卓睿24822077"/>
<input type="hidden" id="screenAbnormalNumberLimit" value="0"/>
<input type="hidden" id="screenAbnormalNumber" value="0"/>
<input type="hidden" id="forbidMultiterminal" value="0"/>
<input type="hidden" id="skipScreenShot" value=""/>
<input type="hidden" id="secondDeviceLive" value="0"/>
<input type="hidden" id="switchScreenThresholdTime" value="0"/>
<input type="hidden" id="exitDuration" value="0"/>
<input type="hidden" id="MirrorChaoXingStudyAndPublicCourse" value=""/>
<input type="hidden" id="uploadFromYunPan" value=""/>
<input type="hidden" id="exitexamForcesubmit" value="0"/>
<input type="hidden" id="takingPhotos" value="0"/>
<input type="hidden" id="fudanManageInstitute" value=""/>
<input type="hidden" id="isAccessibleCustomFid" name="isAccessibleCustomFid" value="0"/>
<input type="hidden" id="answerTimes" name="answerTimes" value="1"/>
<input type="hidden" id="examLocalStorageSwitch" name="examLocalStorageSwitch" value="1"/>
<input type="hidden" id="forbidPhoneRecording" name="forbidPhoneRecording" value="0"/>
<input type="hidden" id="forbidInputText" value="0"/>
<input type="hidden" id="examTimedSaveThreshold" value="1"/>
<input type="hidden" id="snapshotRecognitionFace" value="0"/>
<input type="hidden" id="examAttachAutoSave" value="1"/>
<input type="hidden" id="selftestMode" value="0"/>
<input type="hidden" id="chaoXingAppSignVersion" value="311"/>
<input type="hidden" id="appExamClientSign" value="true"/>
<input type="hidden" id="signConfig" value="{&quot;jsbridgeSignal&quot;:&quot;fQW8I4i/ztTmVvL3qNZvXpN4fp/MYaWsdSoIQfknWBnGM5Tf/gE5lT3I5U5uRYxh5Ja6fXEDn1fXCVwUEhgTYSCfNHGVuSCxMFKwYY0k+oXX/pX7luHDaMAXpfVGSS6ze7R88XuxXtHwHTtOsdyiHsMYTWey18jLUVX0vLMTQyY=&quot;,&quot;domainLength&quot;:22,&quot;jsbridgeTime&quot;:4070880000000}"/>
<input type="hidden" id="monitorLock" value="0"/>
<input type="hidden" id="answerLocked" value="0"/>
<input type="hidden" id="isAnswered" value="false"/>
<input type="hidden" id="forbidCloudFile" value="0"/>
<input type="hidden" id="screenshotNumberLimit" value="0"/>
<input type="hidden" id="screenshotNumber" value="0"/>
<input type="hidden" id="screenshotOccupancyNumberLimit" value="0"/>
<input type="hidden" id="screenshotOccupancyNumber" value="0"/>

<input type="hidden" id="forbidGroupAnswerBack" value="0"/>
<input type="hidden" id="groupLimitTimeType" value="0"/>
<input type="hidden" id="groupMinLimitTime" value=""/>
<input type="hidden" id="groupMaxLimitTime" value=""/>
<input type="hidden" id="groupReceiveTime" value="0"/>
<input type="hidden" id="thisQuestionGroupId" value="0"/>
<input type="hidden" id="prevQuestionGroupId" value=""/>
<input type="hidden" id="nextQuestionGroupId" value=""/>
<input type="hidden" id="nextGroupPaperId" value=""/>
<input type="hidden" id="nextGroupIndexDiff" value=""/>
<input type="hidden" id="checkGroupPop" value="0"/>
<input type="hidden" id="lastPaperGroup" value=""/>
<input type="hidden" id="groupStart" value="0"/>
<input type="hidden" id="groupPaperLimitTimePop" value=" 当前考试需按分卷顺序作答，确认进入下一个分卷？ ">
<input type="hidden" id="groupPaperLimitTimeOverPop" value="当前分卷作答时间已用完，将进入下一分卷">
<input type="hidden" id="groupPaperLimitTimeSubmitPop" value="当前分卷需限时耗尽才允许提交">
<input type="hidden" id="expiredAutoSubmit" value="1"/>
<input type="hidden" id="shieldStuExamConsumeTime" value=""/>

<!--top start-->



<!-- 时间、答题卡 -->
<div class="answerSheet ">

    <div class="countDown" >
        <span class="clockIcon"></span>
        <span tabindex="-1" aria-hidden="true" ><i id="minutes">60</i>&apos;&nbsp;<i id="seconds">00</i>&quot;</span>
    </div>
    <!-- 进度条 -->
    <div class="answerProgress" tabindex="0" role="text" aria-label='当前第1 题; 共1题' >
        <span tabindex="-1" aria-hidden="true">1/1</span>
        <div class="answerLineContainer">
            <div class="answerLine" style="width:100%"></div>
        </div>
    </div>
    <!-- 答题卡 -->
    <div class="answerIcon" tabindex="-1" aria-hidden="true">
        <i></i>
        <span>答题卡</span>
    </div>

</div>



<!-- 答题卡弹窗 -->
<div class="floatBg"></div>
<div class="answerSheetBox">
    <h3>答题卡<a class="closedBtn"></a></h3>
    <ul id="scroll" class="content">
        <div style="top:50%;left: 50%;position: relative;width: 30px;margin-left: -15px;margin-top: -15px;">
            <img src="//mooc1-api.chaoxing.com/exam-ans/images/exam/phone/s/v3/loading.gif"/>
        </div>
    </ul>
    <div class="fullPrevBtn" id="topreview1"><a href="javascript:"><i></i>整卷浏览</a></div>
</div>
<!-- 答题卡弹窗 end -->
<!-- 时间、答题卡 end -->

<form style="width:100%;height:100%;" id="submitTest" action="/exam-ans/exam/test/reVersionSubmitTestNew?classId=134204187&courseId=258101827&testPaperId=8190307&testUserRelationId=167222229&cpi=411545273" method="post">
    <input type="hidden" id="courseId" name="courseId" value="258101827"/>
    <input type="hidden" id="testPaperId" name="testPaperId" value="8190307"/>
    <input type="hidden" id="testUserRelationId" name="testUserRelationId" value="167222229"/>
    <input type="hidden" id="classId" name="classId" value="134204187"/>
    <input type="hidden" id="type" name="type" value="0"/>
    <input type="hidden" name="isphone" value="true"/>

    <input type="hidden" id="imei" name="imei" value=""/>

    <input type="hidden" id="subCount" name="subCount" value=""/>
    <input type="hidden" id="remainTime" name="remainTime" value="1"/>
    <input type="hidden" id="tempSave" name="tempSave" value="false"/>
    <input type="hidden" id="timeOver" name="timeOver" value="false"/>

    <input type="hidden" id="encRemainTime" name="encRemainTime" value="1"/>
    <input type="hidden" id="encLastUpdateTime" name="encLastUpdateTime" value="1764676986452"/>
    <input type="hidden" id="cpi" value="411545273"/>
    <input type="hidden" id="enc" name="enc" value="aec881dc33816d8ccef55fb274d37a37"/>
    <input type="hidden" id="source" value="0">
    <input type="hidden" id="userId" name="userId" value="346635955"/>
    <input type="hidden" name="score885532435" value="5.0"/>
    <input type="hidden" name="questionId" id="questionId" value="885532435"/>
    <input type="hidden" name="start" id="start" value="0"/>
    <input type="hidden" name="enterPageTime" id="enterPageTime" value="1764676986452"/>
    <input type="hidden" name="monitorforcesubmit" id="monitorforcesubmit" value="0"/>
    <input type="hidden" id="answeredView" name="answeredView" value="0"/>
    <input type="hidden" id="exitdtime" name="exitdtime" value="0"/>
    <input type="hidden" id="paperGroupId" name="paperGroupId" value="0"/>

    <div class="answerMain questionWrap singleQuesId ans-cc-exam paddBot100" data="885532435">
        <input type="hidden" name="type885532435" value="0"/>
        <input type="hidden" name="questionId" id="questionId" value="885532435"/>
        <input type="hidden" name="typeName885532435" value="单选题" />
        <input type="text" name="hidetext" style="display:none"/>

        <!-- 答题 -->
        <input type="hidden" name="answer885532435" value="" id="answer885532435"/>
        <div class="answerCon ">
            <div class="pad30">
                <div class="tit">
                    <h3>
                        单选题
                        （共1题，5.0分）                </h3>
                    1.<span style="color: #999;display: inline-block;">（5.0分）</span><p>1我3</p>
                </div>
                <div class="singleChoice answerList radioList singleoption " name="A"
                ><span class="No">A</span>
                    <div class="answerInfo">
                        <cc>1</cc>
                    </div>
                </div>
                <div class="singleChoice answerList radioList singleoption " name="B"
                ><span class="No">B</span>
                    <div class="answerInfo">
                        <cc>2</cc>
                    </div>
                </div>
                <div class="singleChoice answerList radioList singleoption " name="C"
                ><span class="No">C</span>
                    <div class="answerInfo">
                        <cc>3</cc>
                    </div>
                </div>
                <div class="singleChoice answerList radioList singleoption " name="D"
                ><span class="No">D</span>
                    <div class="answerInfo">
                        <cc>4</cc>
                    </div>
                </div>
            </div>


            <!--解析-->
            <!--解析end-->


            <div class="lastQuestion"> 已经是最后一题了</div>
        </div>
        <!-- 答题 end -->



        <!--

        <div class="turnPage">
            <a class="prev noPrev">上一题</a>
            <a href="2.简答题.html" class="next">下一题</a>
        </div>




            <input type="hidden" name="type885532435" value="0"/>
            <input type="hidden" name="score885532435" value="5.0"/>
            <input type="hidden" name="questionId" id="questionId" value="885532435"/>
            <input type="hidden" name="start" id="start" value="0"/>
            <input type="hidden" name="enterPageTime" value="1764676986452"/>
            <input type="hidden" name="monitorforcesubmit" id="monitorforcesubmit" value="0"/>
        </form>
        -->        	</div>
</form>


<!-- 下一题 -->
<div class="turnPage" style="height:auto">
    <a href="javascript:"  aria-hidden="true"  class="prev
         noPrev "
    >上一题</a>
    <a href="javascript:" class="next" id="nextQuestion"  style="display: none;" > 下一题  </a>
    <a href="javascript:" class="next" id="topreview2" >
        下一步  </a>
</div>
<!-- 下一题 end -->

</body>
<script type="text/javascript">
    EXAM_I18N_Config = {
        'nodata': '暂无数据',
        'courseinfo': '课程信息',
        'analysisClass': '分析班级',
        'courseTeacher': '任课教师',
        'teamTeacher': '教师团队',
        'className': '班级名称',
        'numberOfStudents': '学生数',
        'score': '分',
        'ZGF': '最高分',
        'ZDF': '最低分',
        'pblavag': '平均分',
        'passingRate': '及格率',
        'excellentRate': '优良率',
        'standardDeviation': '标准差',
        'variance': '方差',
        'excellentDes': '优秀',
        'goodDes': '良好',
        'mediumDes': '中等',
        'passDes': '及格',
        'belowDes': '以下',
        'scoreDistributionChart': '成绩分布图',
        'scoreComparisonChart': '成绩对比图',
        'scoreRank': '成绩排名',
        'crs': '人数',
        'noPass': '不及格',
        'percentage': '比例',
        'excellentAndGood': '优良',
        'general': '一般',
        'FS': '分数',
        'zuoye': '作业',
        'ClassroomInteraction': '课程积分',
        'attendance': '签到',
        'videoWeight': '章节任务点',
        'chaptertest': '章节测验',
        'visittimes': '章节学习次数',
        'talk': '讨论',
        'reader': '阅读',
        'live': '直播',
        'test': '考试',
        'reward': '奖励',
        'offline': '线下',
        'weightItem': '权重项',
        'weight': '权重',
        'weightItemDes': '权重项说明',
        'examWeightTip': '所有考试的平均分',
        'homework': '作业',
        'homeworkWeightTip': '按在线作业的平均分计分。如设置作业明细分配，则按（按班级发放的作业成绩*权重占比＋按人发放的作业成绩)/(1＋按人发放的作业数量）或按班级发放的作业成绩*权重占比计分',
        'ClassroomInteractionTip1': '参与抢答、主题讨论、选人、问卷、评分、随堂练习、投票全部课程活动以及老师加分可以获得相应分数，积分达',
        'ClassroomInteractionTip2': '分为满分',
        'attendanceTip1': '按次数累计，每签到一次+1，签到数达',
        'attendanceTip2': '次为满分',
        'courseVideo': '章节任务点',
        'videoWeightTip': '课程视频/音频全部完成得满分,单个视频/音频分值平均分配，满分100分',
        'coursetestWeightTip': '只计算为任务点的章节测验,取学生章节测验平均分,未做测验按“0”分计算',
        'PBLWeightTip': '学生在每个分组任务活动获得的分数取平均分',
        'pvWeightTip1': '章节学习次数达',
        'bbsWeightTip1': '发表或回复一个讨论得',
        'AppreciateDes': '获得一个赞得',
        'bbsWeightTip3': '最高100分',
        'reading': '阅读',
        'readingWeightTip1': '按阅读课程中阅读材料的时长计分，总时长达到',
        'readingWeightTip2': '分钟为满分',
        'liveWeightTip1': '观看章节中的直播、直播回放总时长达到',
        'liveWeightTip2': '分钟为满分',
        'rewardScoreTip': '教师对学生的奖励加分,奖励积分',
        'offlineWeightTip': '学生线下学习行为得分',
        'saving': '正在保存...',
        'saveSuccess': '保存成功',
        'saveFailed': '保存失败',
        'loadData': '正在加载数据...',
        'adding': '正在添加...',
        'addFailureTip': '添加失败,稍后再试',
        'deleteTip': '正在删除...',
        'deleteFailureTip': '删除失败,稍后再试',
        'moving': '正在移动...',
        'moveFailureTip': '移动失败,稍后再试...',
        'selectClassTip': '请选择班级！',
        'noCheckConditionTips':'您还没有选择提醒的条件',
        'warningWay':'提醒方式',
        'ImmediateWarning':'立即提醒',
        'automaticWarning':'自动提醒',
        'singleSupervisionAndPromotion':'单次提醒',
        'cycleSupervision':'循环提醒',
        'urgeTime':'提醒时间',
        'superviseTheCycle':'提醒频率',
        'weekly':'每周',
        'everyTwoWeeks':'每两周',
        'everyThreeWeeks':'每三周',
        'every4Weeks':'每四周',
        'superviseTheLengthOfTime':'持续时长',
        'oneMonth':'1个月',
        'TMonth':'2个月',
        'SMonth':'3个月',
        'FMonth':'4个月',
        'FiMonth':'5个月',
        'SMonth':'6个月',
        'notStudyTips':'同学你好，您有课程学习进度未达标，请加快学习进度。在本课程中以下条件未达标:',
        'checkDate':'请选择日期',
        'hellouser': '用户，您好',
        'clickToEditQuestion': '请在上方点击题型按钮添加题目，然后在此编辑区添加内容',
        'coursename': '课程名称',
        'PBLWeight': '分组任务（PBL）',
        'qBankTip1':'请输入试题的内容',
        'qBankTip2':'请设置正确答案',
        'qBankTip3':'确认修改？',
        'testTimeOverSubmitTip':'作答时间耗尽，试卷已提交',
        'testReceiveTime':'试卷领取时间：',
        'stuTestUseTime':'考试用时：',
        'minute':'分钟',
        'confirmKnow':'知道了',
        'confirm':'确定',
        'leavetip2':'次，将强制收卷',
        'leavetip1':'系统检测到你已离开考试',
        'leavetip3':'系统检测到学生考试多终端，将强制收卷',
        'leavetip6':'系统检测到屏幕异常',
        'submitExam':'您确定要交卷吗?',
        'worksubmitTips2':'，确认提交吗？',
        'worksubmitTips1':'您还有未做完的',
        'shoujuantz':'收卷通知',
        'zhuapaiTip':'本次考试需要进行屏幕抓拍，系统需要开启您的屏幕录制权限，请确认同意',
        'reEnter':'重新进入',
        'cancel':'取消',
        'notLeaveTip1':'系统检测到你于',
        'notLeaveTip2':'离开考试，请不要中途离开。',
        'exitExam1':'离开考试提示',
        'littleUnDo':'此题目仍有小题未作答，继续作答下一题？',
        'littleUnDo2':'此题目仍有小题未作答，确认继续？',
        'continueexam':'继续考试',
        'exitExamTitle':'退出考试',
        'projectionScreenTip':'检测到有其他应用正在投屏/共享屏幕，请关闭后进入考试',
        'exitDurationTipPrerix':'系统检测到你的切屏时长已超过',
        'exitDurationTipSuffix':'秒，将强制收卷',
        'forceSubmitTip':'考试已被提交',
        'forceSubmitStyle1Tip':'你已被老师收卷',
        'examScreenAbnormalTitle':'屏幕异常提示',
        'examScreenAbnormalTip':'系统检测到你于[0]屏幕出现异常，您已被检测到屏幕异常[1]次，屏幕异常[2]次将强制收卷，请关闭与考试无关页面。',
        'exitForceSubmitExamTip':'系统检测到曾退出考试，将强制收卷',
        'secondDeviceLiveOpenTip':'检测到未按考试要求开启第二设备直播，请确认直播已开启',
        'appeal':'申诉',
        'allowAnswerBackTips':'本场考试教师已设置不允许查看上一题，当前题目未作答，确认继续作答下一题？',
        'delayReminder':'延时提醒',
        'teacherDelayOperate':'该考试教师进行延时操作',
        'delayDuration':'延时时长：[1]分钟',
        'delayReason':'延时原因：[1]',
        'examFaceAbnormalTitle':'识别异常',
        'examFaceAbnormalTip':'系统检测到你于[0]人脸识别异常[1]，请调整摄像头角度，确保脸部位于画面中心，以便人脸识别。',
        'examFaceAbnormalNoFace':'（画面无人）',
        'examFaceAbnormalMultipleFace':'（画面多人）',
        'examFaceAbnormalConfirm':'重新识别',
        "selfTestCreating":"自测试卷生成中，已完成",
        "createSuccess":"创建成功",
        "exitCountExamLockTipPrefix":"系统检测到你离开考试",
        "exitCountExamLockTipSuffix":"次，已锁定考试",
        "exitDurationExamLockTipPrefix":"系统检测到你的切屏时长超过",
        "exitDurationExamLockTipSuffix":"秒，已锁定考试",
        "unLockExamTip":"考试锁定已经解除，请继续作答",
        "unlockNotification":"解锁通知",
        "screenshotNumberLockTipPrefix":"系统检测到你截屏次数达到",
        "screenshotOccupancyNumberLockTipPrefix":"系统检测到你屏幕权限被占用次数达到",
        "screenshotLockTipSuffix":"次，已锁定考试",
        "screenshotSubmitTipSuffix":"次，已强制收卷",
        "screenshotPrompt":"截屏提示",
        "screenshotOccupancyPrompt":"屏幕权限被占用提示",
        "getPermission":"获取权限"
    };
</script>   <script src="//mooc1-api.chaoxing.com/exam-ans/views/exam/phone/s/v3/js/do-exam-s.js?v=2025-1129-1932"></script>
<script src="//mooc1-api.chaoxing.com/exam-ans/views/exam/phone/s/v3/js/exam-sign-min.js?v=2025-0815-1030"></script>
<link href="/ananas/ueditor/themes/iframe_wap_editor.css?v=2023-0620-1950" type="text/css" rel="stylesheet"/>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
<script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2023-1007-2134"></script>
<script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2025-1121-1548"></script>
<script type="text/javascript">
    window.UEDITOR_CONFIG.imagePopup = false;
</script>
<style>
    .edui-default .edui-editor {border:none !important;}
    .edui-default .edui-editor-bottomContainer td { border-top: none;}
</style>

<script>
    var courseId = $("#courseId").val() || 0;
    var mirrorFid = Math.round(courseId / 10000000000);
    if (mirrorFid == 1731) {
        $(".attachClass").hide();
    }

    window.editors = [];
    window.editorIndex = 0;
    window.answerPlaceholder = '<span style="color:#ccc;">请输入答案</span>';

    var newPicVersion =  typeof(AppUtils) != 'undefined'  && AppUtils.isNewVersion('3155', '3155');

    function loadShow(){
        $(".ui-loader").show();
    }
    function loadHide(){
        $(".ui-loader").hide();
    }

    var handler = function (object) {
        if (object && object.files) {
            for(var i = 0; i<object.files.length; i++){
                uploadFile(object.files[i],'png',imgUploadHandler);
            }
        }
    };

    var handlerNew = function(object) {
        if ("mp4" == object.type) {
            chooseVideo(object);
            return;
        }
        if (object && object.files) {
            var jsonObj = JSON.parse(object.files);
            for (var i = 0; i < jsonObj.length; i++) {
                InsertPic(jsonObj[i]);
            }
        }
    };

    function InsertPic(data) {
        var objectid = data.objectid;
        var type = data.type;
        if (type == "heic" || type == "HEIC") {
            var src = 'https://p.ananas.chaoxing.com/star3/750_1024/' + objectid;
        } else {
            var src = 'https://p.ananas.chaoxing.com/star3/750_1024/' + objectid + "." + type;
        }
        ueditor = editors[editorIndex].ueditor;
        ueditor.clearPlaceHolder(answerPlaceholder);
        if(!ueditor.selection.getRange().collapsed){
            ueditor.focus(true);
        }
        ueditor.execCommand('insertHtml', '<p><img class="ans-ued-img" src="'+ src +'"></p>');
        try {
            var forbidInputText =  $("#forbidInputText").val() || 0;
            if (forbidInputText == 1) {

                var img = '<img class="ans-ued-img" src="'+ src +'">';
                if (typeof (ueditor._disableInputTextCallBack) == 'function') {
                    ueditor._disableInputTextCallBack(img, "img", 1);
                }
            }
        } catch (e) {
            console.log("InsertPic:" + e)
        }
        var imgs = $('.ans-ued-img',ueditor.document.body);
        if(imgs && imgs.length > 0){
            var img = imgs[imgs.length-1];
            img.onload = function() {ueditor.adjustHeight();}
        }
        ueditorAnswerLocalCacheHandle.writeLocalCache(ueditor);
    }

    function dataURLtoBlob(imgData,type) {
        var arr = imgData.split(',');
        var mime = arr[0].match(/:(.*?);/)[1];
        var bytes =atob(arr[1]);
        var array = [];
        for (var i = 0; i < bytes.length; i++){
            array.push(bytes.charCodeAt(i));
        }
        var blob = new Blob([new Uint8Array(array)], {type:  mime});
        return blob;
    }

    function uploadFile(file,type,callhandler){
        loadShow();
        var formData = new FormData();
        formData.append('fileType',type);
        try{
            var data = 'data:image/' + type + ';base64,' + file.data;
            var fileName = file.name || new Date().getTime() + '.' + type;
            formData.append('filePart',dataURLtoBlob(data),fileName);
        }catch(err){
            formData.append('filedata',file.data);
        }
        jQuery.ajax({
            type: "post",
            url : ServerHost.uploadDomain + "/edit/uploadBase64?uid=346635955&enc2=8c8e8f0c6ede9a472cf1828137716839&t=1764676986452",
            dataType:'json',
            xhrFields: {withCredentials: true},
            contentType: false,
            processData: false,
            data : formData ,
            success: function(json){
                loadHide();
                if(json.status){
                    if(file.time){//音频
                        callhandler && callhandler(json,file.time);
                    }else{
                        callhandler && callhandler(json);
                    }
                }else{
                    alert("上传失败！");
                }
            },
            error:function(){
                loadHide();
                alert("上传失败！");
            }
        });
    }

    var imgUploadHandler=function (data) {
        var src = data.url.replace('origin', '750_1024'),
            ueditor = editors[editorIndex].ueditor;
        ueditor.clearPlaceHolder(answerPlaceholder);
        if(!ueditor.selection.getRange().collapsed){
            ueditor.focus(true);
        }
        ueditor.execCommand('insertHtml', '<p><img class="ans-ued-img" src="'+ src +'"></p>');
        try {
            var forbidInputText =  $("#forbidInputText").val() || 0;
            if (forbidInputText == 1) {

                var img = '<p><img class="ans-ued-img" src="'+ src +'"></p>';
                if (typeof (ueditor._disableInputTextCallBack) == 'function') {
                    ueditor._disableInputTextCallBack(img, "img", 1);
                }
            }
        } catch (e) {
            console.log("imgUploadHandler:" + e)
        }
        var imgs = $('.ans-ued-img',ueditor.document.body);
        if(imgs && imgs.length > 0){
            var img = imgs[imgs.length-1];
            img.onload = function() {ueditor.adjustHeight();}
        }
        ueditorAnswerLocalCacheHandle.writeLocalCache(ueditor);
    };

    function initEditor(answerMode){
        var body = Ext.getBody();
        var editorItems = $(".editorItem");
        var editorNum = editorItems.length;
        if(editorNum > 0){
        }
        var readyNum = 0;
        editorItems.each(function(index) {
            var item = this;
            $(this).attr("data-editorIndex",""+index);
            var itemId = $(this).attr("data-itemId");
            var textarea = $(this).find('textarea');
            var wordMinNum = textarea.attr('wordminnum') || 0;
            var wordMaxNum = textarea.attr('wordmaxnum') || 0;
            var ueConfig = {
                initialFrameHeight : 200,
                autoHeightEnabled : true,
                iframeCssUrl : '/ananas/ueditor/themes/iframe_wap_editor.css?v=2023-0620-1950',
                zIndex: 100,
                delaycontentEditable: true,
                disableAutoSubmit:true
            };

            if($(this).attr("blankobj") == 1){
                ueConfig.initialFrameHeight = 60;
                ueConfig.pasteplain = true;
                ueConfig.disablePasteImage = true;
            }

            var wordCount = false;
            if(wordMinNum && wordMinNum > 0){
                ueConfig.minimumWords = wordMinNum;
                wordCount = true;
            }
            if(wordMaxNum && wordMaxNum > 0){
                ueConfig.maximumWords = wordMaxNum;
                wordCount = true;
            }
            if(wordCount){
                if(wordMaxNum == 0){
                    ueConfig.maximumWords = 0;
                }
                ueConfig.wordCount = true;
                ueConfig.wordCountTimer = false;
            }
            if(wordMaxNum > 0){
                initWordMaxMiddleContainer();
            }
            editors[index] = Ext.create('ananas.InnerEditor',{
                renderTo : "ananas-editor-answer"+itemId,
                width:body.getWidth(),
                ueditorConfig : ueConfig
            });

            editors[index].on('ready',function(){
                readyNum ++ ;
                if(readyNum == editorNum){
                }
                var ueditor = this.ueditor;
                ueditor.document.body.contentEditable=true;
                document.activeElement.blur();
                if(index == readyNum -1 ){
                    $('html,body').animate({scrollTop:0});
                }
                ueditor.document.activeElement.blur();
                // ueditors[index]=ueditor;
                var c = $('#my-content'+itemId).val();
                if(c){
                    ueditor.setContent(c);
                }else{
                    ueditor.setContent("");
                    if(typeof(ueditorAnswerLocalCacheHandle) != 'undefined'){
                        ueditorAnswerLocalCacheHandle.checkSubmitLocalCache(ueditor);
                    }
                }

                var forbidInputText =  $("#forbidInputText").val() || 0;
                if (forbidInputText == 1) {
                    ueditor._disableInputTextParam = {"itemId": itemId};
                    ueditor._disableInputTextCallBack = disableInputTextCallBackAction;
                    initDisableInputTextFile(ueditor);
                }

                //ueditor.showPlaceHolder && ueditor.showPlaceHolder(answerPlaceholder);
                ueditor.emptyPlaceHolder && ueditor.emptyPlaceHolder('请输入答案');

                ueditor && ueditor.addListener('contentChange', function(e) {
                    if(answerMode == 0){
                        controlEmoticons(ueditor, true);
                        synFormAnswer(ueditor);
                    }else if(answerMode == 1 && wordMaxNum > 0){
                        controlWordMax(ueditor,wordMaxNum);
                    }
                });
                ueditor && ueditor.addListener('afterinserthtml', function(e) {
                    ueditorAttachmentSave(ueditor);
                });

                $(ueditor.document.body).on('focus',function(){
                    editorItemBuleBorder(ueditor.container,'focus');
                    $(ueditor.container).parents('.editorItem').removeClass("redBord");
                });

                $(ueditor.document.body).on('blur',function(){
                    editorItemBuleBorder(ueditor.container,'blur');
                    if(answerMode == 1){
                        controlEmoticons(ueditor, true);
                        synFormAnswer(ueditor);
                        //fireAnswerChangeEvent(ueditor.container);
                    }
                    var count = ueditor.pureWordCount();
                    if((wordMaxNum > 0 && count > wordMaxNum) || (wordMinNum > 0 && wordMinNum > count)) {
                        $(ueditor.container).parents('.editorItem').removeClass("blueBord");
                        $(ueditor.container).parents('.editorItem').addClass("redBord");
                    }else{
                        $(ueditor.container).parents('.editorItem').removeClass("redBord");
                    }
                });

                $(ueditor.document.body).on('keyup',function(){
                    ueditorEditTimedSave(ueditor);
                });
                $(ueditor.document.body).on('input',function(){
                    ueditorAnswerLocalCacheHandle.writeLocalCache(ueditor);
                });

                var imgs = $('.ans-ued-img',ueditor.document.body);
                if(imgs && imgs.length > 0){
                    var img = imgs[imgs.length-1];
                    img.onload = function() {ueditor.adjustHeight();}
                }

                //防粘贴功能
                ueditor.addListener("beforePaste",function(type,data){
                    data.html = "";
                    paste();
                })

            });
        });
    }

    function initH5ToolBar(thisObj, index) {
        $(thisObj).find(".BanswerIcon .attachClass").attr("data", "" + index);
        var isIos = window.navigator.userAgent.toLocaleLowerCase().indexOf("iphone") != -1;
        if (isIos) {
            var attachUploaderId = 'attachUploader_' + index;
            $(thisObj).find('.BanswerIcon .attachClass').attr('id', attachUploaderId);
            initFileUploader(attachUploaderId, 0);
        } else {
            $(thisObj).find(".BanswerIcon .photoClass").attr("data", "" + index);
            $(thisObj).find(".BanswerIcon .videoClass").attr("data", "" + index);
            var photoUploaderId = 'photoUploader_' + index;
            $(thisObj).find('.BanswerIcon .photoClass').attr('id', photoUploaderId);
            initPhotoUploader(photoUploaderId);
            var videoUploaderId = 'videoUploader_' + index;
            $(thisObj).find('.BanswerIcon .videoClass').attr('id', videoUploaderId);
            initFileUploader(videoUploaderId, 1);
            var attachUploaderId = 'attachUploader_' + index;
            $(thisObj).find('.BanswerIcon .attachClass').attr('id', attachUploaderId);
            initFileUploader(attachUploaderId, 0);
        }
    }

    function synFormAnswer(ueditor){
        var eleObj = $(ueditor.container);
        var questionId = operatioQuestionId(eleObj);
        var type = $("input[name=type"+questionId+"]").val();
        checkControlWordMax(ueditor,type);
        var answer = ueditor.getContent();
        if(answer && answer.length > 0){
            answer =  removeAnswerPlaceHolder(answer,answerPlaceholder);
        }
        if(type == 2 || type == 9 || type == 10){
            var textArea = eleObj.parents('.editorItem').find('textarea');
            textArea.val(answer);
        }else if(type == 15 || type == 19 || type == 25){
            readComprehensionSetAnswer && readComprehensionSetAnswer(questionId);
        } else if (type == 26) {
            writingAnswerStr(questionId, answer);
        } else {
            var textArea = eleObj.parents('.editorItem').find('textarea');
            textArea.val(answer);
        }
    }


    $(function(){
        $('.pic-btn').removeAttr('onclick');
        $('.pic-btn').bind("click",function(){
            var li = $(this).parents('.editorItem');
            editorIndex = parseInt(li.attr("data-editorIndex"));
            openPhoto('exam');
        });
        $('.voice-btn').removeAttr('onclick');
        $('.voice-btn').bind("click",function(){
            var li = $(this).parents('.editorItem');
            editorIndex = parseInt(li.attr("data-editorIndex"));
            openRecording('exam');
        });
    });


    function openPhoto(uploadtype){
        document.activeElement.blur();
        $("input").blur();
        onExamAction = true;
        var cmd = 'CLIENT_CHOOSE_IMAGE_RESULT';
        jsBridge.unbind(cmd);

        var options ={
            "cameraQuality" :1,
            "maxVideoDuration": 600,
            "clickRecord": 1,
            singleImage:false,
            message: ''
        };

        options.uploadParams = {};
        options.uploadConfig = {};
        var uploadUrl =$("#workExamUploadUrl").val();
        var uploadCrcUrl =$("#workExamUploadCrcUrl").val();
        var isYunPan = $("#uploadFromYunPan").val();

        if(typeof uploadUrl != "undefined" &&  uploadUrl != ""){
            options.uploadConfig.uploadUrl =uploadUrl;
        }
        if(typeof uploadCrcUrl != "undefined" &&  uploadCrcUrl != ""){
            options.uploadConfig.uploadCrcUrl = uploadCrcUrl;
        }
        if (typeof isYunPan != "undefined" && isYunPan == 1) {
            options.uploadConfig.isYunPan = 1;
        }

        if(typeof uploadtype != "undefined"){
            if(typeof uploadUrl != "undefined" &&  uploadUrl != ""){
                options.uploadConfig.uploadUrl += "?uploadtype=" + uploadtype;
            }else{
                options.uploadParams.uploadtype = uploadtype;
            }
        }

        var handlerFinal = handler;

        if(newPicVersion){
            if(typeof handlerNew != "undefined"){
                handlerFinal = handlerNew;
            }
            options.camare = 7;
        }

        if (mirrorFid > 0) {
            options.fid = mirrorFid;
            options.isMirror = 1;
        }

        handlerFinal && jsBridge.bind(cmd, handlerFinal);
        jsBridge.postNotification('CLIENT_CHOOSE_IMAGE', options);
    }

    var recording_timeOut;
    function openRecording(uploadtype) {
        document.activeElement.blur();
        $("input").blur();
        clearTimeout(recording_timeOut);
        recording_timeOut = setTimeout(function() {
            var cmd = 'CLIENT_AUDIO_RECORD';
            jsBridge.unbind(cmd);

            var options ={};

            options.uploadParams = {};
            options.uploadConfig = {};
            var uploadUrl =$("#workExamUploadUrl").val();
            var uploadCrcUrl =$("#workExamUploadCrcUrl").val();
            var isYunPan = $("#uploadFromYunPan").val();

            if(typeof uploadUrl != "undefined" &&  uploadUrl != ""){
                options.uploadConfig.uploadUrl =uploadUrl;
            }
            if(typeof uploadCrcUrl != "undefined" &&  uploadCrcUrl != ""){
                options.uploadConfig.uploadCrcUrl = uploadCrcUrl;
            }
            if (typeof isYunPan != "undefined" && isYunPan == 1) {
                options.uploadConfig.isYunPan = 1;
            }

            if(typeof uploadtype != "undefined"){
                if(typeof uploadUrl != "undefined" &&  uploadUrl != ""){
                    options.uploadConfig.uploadUrl += "?uploadtype=" + uploadtype;
                }else{
                    options.uploadParams.uploadtype = uploadtype;
                }
            }

            if (mirrorFid > 0) {
                options.fid = mirrorFid;
                options.isMirror = 1;
            }

            recordingHandler && jsBridge.bind(cmd, recordingHandler);
            jsBridge.postNotification(cmd,options);
        }, 60);

        function recordingHandler(obj) {
            if ( !obj.att_voice) {
                return;
            }
            var voice = obj.att_voice;
            var objectId = voice.objectId2;
            var fileName = voice.fileTitle;
            var audioStr =
                '<p><iframe  data="' + objectId + '"  height="62px" width="auto" frameborder="0"  allowtransparency="true" ' + ' style="background-color:transparent;border-radius: 3px;overflow: hidden;z-index: 0;" scrolling="no" ' + ' src="/ananas/common-modules/audioplay/audioplay.html?objectid=' + objectId + '" name="' + fileName + '" class="ans-insertaudio-module" module="_insertaudio">' + ' </iframe></p>';
            var ueditor = editors[editorIndex].ueditor;
            ueditor.clearPlaceHolder(answerPlaceholder);
            ueditor.execCommand('insertHtml', audioStr);
            try {
                var forbidInputText =  $("#forbidInputText").val() || 0;
                if (forbidInputText == 1) {
                    if (typeof (ueditor._disableInputTextCallBack) == 'function') {
                        ueditor._disableInputTextCallBack(audioStr, "audio", 1);
                    }
                }
            } catch (e) {
                console.log("recordingHandler:" + e)
            }
            ueditorAnswerLocalCacheHandle.writeLocalCache(ueditor);
        }
    }
</script>

<script>
    $(document).ready(function(){
        var answerMode = $('#answerMode').val() || 0;
        initEditor(answerMode);
        var isSupport = typeof(AppUtils) != 'undefined' && AppUtils.isNewVersion('3124', '3127');
        if (isSupport) {
            $(".voice-btn").show();
        }
        var isAttach = typeof(AppUtils) != 'undefined' && AppUtils.isNewVersion('3244', '3244');
        if (isAttach) {
            $(".attach-btn").show();
        }
    });
</script>   <link rel="stylesheet" href="//mooc1-api.chaoxing.com/exam-ans/css/phone/hint750.css?v=2025-1101-0108" />
<div id="msg" class="rescan_main hint_pop">
    <div class="msg-title">title</div>
    <div class="msg-content">
        <div class="msg-content-middle"></div>
        <div class="msg-content-b">
            <span class="msg-content-left msg-content-ok" >确定</span>
            <span class="msg-content-right msg-content-cancel" >取消</span>
        </div>
    </div>
</div>
<div id="hint" class="rescan_main hint_pop">
    <div class="msg-title">title</div>
    <div class="msg-content">
        <div class="msg-content-middle"></div>
        <div class="msg-content-b">
            <span class="hint-content-left msg-content-cancel">确定</span>
        </div>
    </div>
</div>
<div id="time" class="rescan_main hint_pop">
    <div class="msg-title">title</div>
    <div class="msg-content">
        <div class="msg-content-middle"></div>
    </div>
</div>
<div id="confirm" class="rescan_main hint_pop">
    <div class="msg-title"></div>
    <div class="msg-content">
        <div class="msg-content-middle"></div>
        <div class="msg-content-b">
            <span class="msg-content-left msg-content-ok"></span>
            <span class="msg-content-right msg-content-cancel"></span>
        </div>
    </div>
</div>

<div id="confirmNew" class="rescan_mainNew hint_pop">
    <div class="msg-title"></div>
    <div class="msg-contentNew">
        <div class="msg-content-middleNew"></div>
        <div class="msg-content-bNew">
            <span class="msg-content-leftNew msg-content-okNew"></span>
            <span class="msg-content-rightNew msg-content-cancelNew"></span>
        </div>
    </div>
</div>

<div id="confirmPop" class="rescan_main_pop hint_pop">
    <div class="msg-title"></div>
    <div class="msg-content">
        <div class="msg-content-middle"></div>
        <div class="msg-content-b">
            <span class="msg-content-left msg-content-ok"  ></span>
            <span class="msg-content-right msg-content-cancel"  ></span>
        </div>
    </div>
</div>


<div id="noticeConfirm" class="rescan_mainNew hint_pop">
    <div class="notice-title"></div>
    <div class="msg-contentNew">
        <div class="notice-content-middle"></div>
        <div class="msg-content-bNew">
            <span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
        </div>
    </div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew hint_pop" style="height:3.2rem;">
    <div class="notice-title" style="color:red;"></div>
    <div class="msg-contentNew">
        <div class="notice-content-middle"></div>
        <div class="msg-content-bNew" style="color:#333;">
            <span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
        </div>
    </div>
</div>

<div id="noticeConfirmNew" class="rescan_mainNew hint_pop" style="padding:0;height: auto">
    <div class="notice-title" style="position: unset;padding-top:0.2rem;"></div>
    <div class="noconPad" style="padding: 0.2rem 0.6rem">
        <div style="color: #333;  font-size: 0.32rem; line-height: 0.5rem;" class="content-middle-new"></div>
    </div>
    <div class="msg-content-bNew" style=" position: unset;">
        <span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
    </div>
</div>


<div id="exitConfirm" class="exitMask hint_pop">
    <div class="exitContent">
        <p class="exitTit"></p>
        <ul class="exitList">
            <li class="exitAndSave"></li>
            <li class="exitNoSve" style="color:#FF3B30"></li>
        </ul>
        <p class="exitCancel"></p>
    </div>
</div>


<div id="loading" class="rescan_main hint_pop">
    <div class="msg-title"></div>
    <div class="msg-content">
        <div class="msg-content-middle"><i class="loading-icon"></i><span></span></div>
    </div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="//mooc-res2.chaoxing.com/exam-ans/js/phone/hint.js?v=2025-1101-0108"></script>       <link rel="stylesheet" href="//mooc1-api.chaoxing.com/exam-ans/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
    <div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div><div id="loadingTip" style="left:40%;top:40%;position:absolute;display:none;"><img src="//mooc1-api.chaoxing.com/exam-ans/css/set/phone/images/loading.png" style="width:30px;height:30px;max-width:100%;"/></div>
<script>

    $(document).ready(function () {
        var snapshotMonitor = $('#snapshotMonitor').val();
        if (snapshotMonitor != 1) {
            return;
        }
        var entryExamTime = $('#entryExamTime').val();
        var rentryExamTime = $('#rentryExamTime').val();
        var faceDetectionResult = $('#faceDetectionResult').val();
        var data = {};
        if (faceDetectionResult && faceDetectionResult != '') {
            try{
                data = JSON.parse(faceDetectionResult);
            }catch(err){ }
        }
        if (entryExamTime && entryExamTime > 0) {
            data.retry = true;
            rentryExamLog(data);
        } else if (rentryExamTime && rentryExamTime > 0) {
            data.rentryTime = rentryExamTime;
            rentryExamLog(data);
        }
    });
</script>
<script src="//mooc1-api.chaoxing.com/exam-ans/views/exam/phone/s/v3/js/watermark.min.js?v=2023-1226-0946"></script>
<link href="//mooc1-api.chaoxing.com/exam-ans/js/smartphoto/smartphoto.min.css?v=2022-0526-1800" rel="stylesheet" type="text/css" />
<style>
    .smartphoto{z-index:1001;}
    .smartphoto[aria-hidden="true"]{display:none}
    .smartphoto-img-wrap img{background-color:white;}
    .smartphoto-header{position:relative;top:90%;}
    .smartphoto-count{font-size:17px;position:relative;left:46%;}
    .smartphoto-dismiss{right:15px;display:none;}
</style>
<script type="text/javascript" src="//mooc1-api.chaoxing.com/exam-ans/js/smartphoto/jquery-smartphoto.min.js?v=2022-0527-0100"></script>
<div class="pdfPopMask">
    <div style="position: absolute;left: 40%; top: 40%;display:none;" class="pdfLoading">数据加载中...</div>
    <div id="pdfView" class="pdfPopFull"></div>
</div><!-- 代码高亮开始 start -->
<link type="text/css" href="//mooc1-api.chaoxing.com/exam-ans/views/mooc2/ueditor/insertcode/css/default.min.css" rel="stylesheet" />
<script type="text/javascript" src="//mooc-res2.chaoxing.com/exam-ans/js/highlight.min.js" charset="utf-8"></script>
<script type="text/javascript" src="//mooc-res2.chaoxing.com/exam-ans/js/highlightjs-line-numbers.js" charset="utf-8"></script>
<style>
    pre,code {display: block;background: #F7F8FA;border: 1px solid #E1E3E5; font-size: 14px; border-radius: 4px; padding: 30px 20px; margin: 20px 0; font-family: CXHackSafariFont,CXEmojiFont,CXChineseQuote,-apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,Tahoma, Arial,Segoe UI,PingFang SC, Hiragino Sans GB,Microsoft YaHei,sans-serif,Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol,Noto Color Emoji; }
    pre{overflow-x: auto;margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}
    pre.autolinebreak{white-space: normal; }
    code.hljs{background: #F7F8FA;}
    pre code,pre pre{ margin: 0; background: none;border: none;}/*padding: 0;*/
    .code-tool-wrap{padding-bottom: 1em;left: 20px; top: 2px; width: calc(100% - 40px); height: 24px; font-size: 14px; user-select: none;}
    .code-lang{ display:inline-block; color: #ACB4BF; }
    .ans-cc-exam .ans-noborder th,.ans-cc-exam .ans-noborder td{border-color:transparent;}
    .ans-cc-exam pre,.ans-cc-exam code{ position: relative; padding: 0px 20px 30px; margin: 20px 0;border: 1px solid #E1E3E5; border-radius: 4px; color: #474C59; background: #F7F8FA; font-size:14px; font-family: CXHackSafariFont,CXEmojiFont,CXChineseQuote,-apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,Tahoma, Arial,Segoe UI,PingFang SC, Hiragino Sans GB,Microsoft YaHei,sans-serif,Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol,Noto Color Emoji;  }
    .ans-cc-exam pre{overflow: auto}
    .ans-cc-exam pre code,.ans-cc-exam pre pre{ padding: 0; border:none; margin: 0; background: none;border-radius: 0;}
    .ans-cc-exam pre.autolinebreak{white-space: pre-wrap;word-wrap: break-word;}
    .hljs-ln-numbers {text-align: center;color: #ccc;border-right: 1px solid #CCC;vertical-align: top;padding-right: 5px !important;}
    .hljs-ln-code {padding-left: 5px !important;}
    /* 全局去掉表格样式 */
    .ans-cc-exam pre code table tr td {border: solid 0px #cfd4dc;text-align: left}
    /* 作业表格适配，考试表格适配 */
    .ans-cc-exam pre table{table-layout: unset;}
    .ans-cc-exam pre code table{table-layout: unset;}
    /* pre 标签未换行 */
    .ans-cc-exam pre.line-numbers{clear:both}
    .ans-cc-exam pre{clear:both}

    /* app作业库 考试库 查看样式 */

    .hljs-link, .hljs-operator, .hljs-regexp, .hljs-selector-attr, .hljs-selector-pseudo, .hljs-symbol, .hljs-template-variable, .hljs-variable {
        color: #ab5656 !important;
    }
    .hljs-deletion, .hljs-number, .hljs-quote, .hljs-selector-class, .hljs-selector-id, .hljs-string, .hljs-template-tag, .hljs-type {
        color: #800 !important;
    }
    /* 章节作业 */
    .hljs-ln span{margin-right:0}

    /* 学习通颜色覆盖 */
    .hljs-type{color:#800 !important;}
    .hljs-section,.hljs-title{color:#800 !important;font-weight:700}
    /* 背景颜色 */
    .ans-cc-exam pre code td{background-color: unset;}
</style>
<link type="text/css" href="//mooc1-api.chaoxing.com/exam-ans/css/newEditor.css?v=2023-1123-1137" rel="stylesheet" />
<script>
    /**
     * 保证最后加载
     */
    $(function () {
        var pre = $(".ans-cc-exam").find('pre')
        if(pre){
            pre.each(function () {
                // debugger
                var me = this;
                var lang = me.firstChild && me.firstChild.lang;
                if (typeof (lang) == 'undefined' || lang == null || lang == "" ) {
                    lang = me.firstChild && me.firstChild.className;
                    if (typeof (lang) != 'undefined' && lang != null && lang != "" ) {
                        var split = lang.split("-");
                        lang = split[1];
                        if (lang == 'plain') {
                            lang = 'Plain Text';
                        }
                    }
                }
                me.innerHTML = '<div class="code-tool-wrap clearfix"><div class="code-lang fl">' + lang
                    + '</div><div class="copy1 fr"><i></i><span></span></div></div>' + me.innerHTML;
                me.innerHTML = me.innerHTML.replace(/<br\s*\/?>/g, "\n");
            })
        }

        hljs.initHighlightingOnLoad();
        hljs.initLineNumbersOnLoad({ singleLine:true });
    })
</script>
<!-- 代码高亮结束 end -->
<script src="//mooc1-api.chaoxing.com/exam-ans/views/exam/phone/s/v3/js/error-collect.js?v=2024-0202-0946"></script>
</html>

